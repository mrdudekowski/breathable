# Breathable - Telegram Mini App для дыхательных упражнений

MVP приложения для дыхательных упражнений, созданное на базе React + TypeScript + Vite с интеграцией Telegram Mini App.

## Технологический стек

- **React 18** - UI библиотека
- **TypeScript** - типизация
- **Vite** - сборщик и dev-сервер
- **Framer Motion** - анимации
- **@twa-dev/sdk** - интеграция с Telegram Mini App
- **CSS Modules** - стилизация

## Структура проекта

```
breathable/
├── public/
│   └── index.html
├── src/
│   ├── api/
│   │   └── endpoints.ts              # Заглушки endpoints для будущих подключений
│   ├── components/
│   │   ├── BreathingExercise/       # Компоненты упражнения
│   │   ├── MainMenu/                 # Главное меню
│   │   └── Layout/                   # Базовый layout
│   ├── config/
│   │   └── breathingPractices.ts    # Конфигурации практик (единственный источник истины)
│   ├── hooks/
│   │   ├── useBreathingExercise.ts   # Логика упражнения
│   │   └── useTelegramWebApp.ts      # Интеграция с Telegram
│   ├── types/
│   │   └── breathing.ts              # TypeScript типы
│   ├── utils/
│   │   ├── animations.ts             # Утилиты для анимаций
│   │   └── breathingHelpers.ts       # Вспомогательные функции
│   ├── App.tsx
│   ├── main.tsx
│   └── index.css
├── package.json
├── tsconfig.json
└── vite.config.ts
```

## Дыхательные практики

### 1. Простой для начинающих
- Вдох: 4 секунды
- Задержка: 2 секунды
- Выдох: 4 секунды
- Пауза: 2 секунды
- Циклов: 10

### 2. Дыхание по Виму Хоффу
- Вдох: 1 секунда
- Задержка: 0 секунд
- Выдох: 1 секунда
- Пауза: 0 секунд
- Циклов: 30
- Финальная задержка: 15 секунд

### 3. Коробочное дыхание (DMT)
- Вдох: 4 секунды
- Задержка: 4 секунды
- Выдох: 4 секунды
- Пауза: 4 секунды
- Циклов: 8

## Разработка

### Установка зависимостей
```bash
npm install
```

### Запуск dev-сервера
```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:3000`

### Сборка для production
```bash
npm run build
```

### Предпросмотр production сборки
```bash
npm run preview
```

### Проверка качества кода
```bash
npm run check        # Проверка типов, линтинг и форматирование
npm run lint         # Проверка кода на ошибки
npm run lint:fix     # Автоматическое исправление ошибок
npm run format       # Форматирование кода
npm run type-check   # Проверка типов TypeScript
```

## Правила разработки

Проект следует строгим правилам разработки, описанным в [`.cursorrules`](.cursorrules).

### Быстрая настройка

После клонирования репозитория выполните:
```bash
npm install
npm run prepare      # Инициализирует Git хуки
npm run check        # Проверяет, что всё работает
```

### Автоматические проверки

- **Pre-commit**: Автоматический линтинг и форматирование измененных файлов
- **Pre-push**: Проверка типов, линтинг и форматирование перед push
- **CI/CD**: Полная проверка при создании PR (GitHub Actions)

Подробнее: [README-RULES.md](README-RULES.md) | [SETUP-RULES.md](SETUP-RULES.md)

## Особенности

- **Минималистичный дизайн** - тёплые/мистические оттенки, фокус на контенте
- **Плавные анимации** - использование Framer Motion для эффектных переходов
- **Адаптивность** - оптимизация для мобильных устройств
- **TypeScript** - полная типизация для надёжности кода
- **Модульная архитектура** - разделение ответственности компонентов

## API Endpoints

В файле `src/api/endpoints.ts` подготовлены заглушки для будущих API подключений:
- `saveProgress` - сохранение прогресса пользователя
- `getUserStats` - получение статистики пользователя

## Деплой

### GitHub Pages

Проект настроен для автоматического деплоя на GitHub Pages.

1. После пуша в ветку `main` автоматически запускается сборка и деплой
2. Приложение будет доступно по адресу: `https://mrdudekowski.github.io/breathable/`

### Telegram Mini App

После деплоя на GitHub Pages:

1. Открой [`@BotFather`](https://t.me/BotFather) в Telegram
2. Создай Mini App: `/newapp`
3. Укажи URL: `https://mrdudekowski.github.io/breathable/`
4. Получи ссылку для открытия Mini App

Подробная инструкция по подключению к Telegram Mini App в разделе [Деплой](#деплой).

## Будущие расширения

- Сохранение прогресса пользователя
- Статистика выполненных упражнений
- Настройка параметров практик
- Звуковые подсказки
- Вибрация для тактильной обратной связи
